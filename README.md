# How databases Work? Understand Intrnal Architecture

- DB Client

- DB  Server
    - Network layer
    - First Component of Database
        - First component of the Database (Db server Front end)
            - Tokeniser -- Responsible for tokenising the query
            - Parser -- understand the tokens generated by tokenizer
            - Optimiser -- next step optimises the recieved and understood tokens
        - Second Component -- Execution Engine consists of
            - Query Executor
            - Cache Managment
            - Utility Services
        - Third Component Consists of below managers
            - Transaction Managment
            - Lock Management
            - Recovery Manager
        - Fouth Component Consists of below
            - Concurrency Manager
        - Fivth Componenet 
            - Storage engine
                - Disk storage Manager
                    - Dealing disk is Very expensive operation
                    - Dealing with Disk is cost effective
                    - Dealing with disk provides Persistence
                    - This layer uses Btress and B+ trees
                - Buffer Manager
                - Index manager
        - Sixth Component
            - OS interaction Layer

 - These components help in understanding the overview of one Database. In modern data architecture one DB will not be sufficient to server the whole application where the multiple dbs are required which is called nodes. this is managed by shard manager
- All the nodes are grouped under a Cluster which is called as cluster manager.
- Availabilityis extremely important, we always have tradeoff between availability and consistency which is called CAP Theorem, Replication takes care of Availability, this replications are manged by Replication manager.


Notes
=====
- Transaction Managment (Acid properties)
    - Atomcity
    - Consistency
    - Isolation
    - Durability
- Lock Management
    - Shared Locks
    - Exclusive Locks
    - Column Level Lock
    - Row level Lock
- Recovery Manager
- MVCC (Multi version concurrency control)